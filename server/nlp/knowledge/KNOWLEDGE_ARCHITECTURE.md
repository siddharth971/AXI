# AXI Knowledge Architecture & Reasoning Strategy

## 1. Domain Coverage Map

The Knowledge Layer currently covers the following domains with grounded facts:

| Domain           | Knowledge Types                    | Source Confidence    |
| :--------------- | :--------------------------------- | :------------------- |
| **Developer**    | Git flow, NPM deps, Errors         | High (Official Docs) |
| **System**       | Power states (Sleep/Off), OS rules | High (OS Truth)      |
| **Connectivity** | WiFi vs LAN, Internet status       | High (Net Basics)    |
| **Application**  | Focus rules, Window constraints    | High (OS Truth)      |
| **Media**        | Hardware limits (Vol 100%)         | High (Hardware)      |
| **Math**         | Axioms (BODMAS)                    | Absolute             |

## 2. Reasoning Examples (Before vs. After)

### Scenario A: Git Confusion

- **User:** "I committed the code but I can't see it on GitHub."
- **Without Knowledge:** _Executes `git push` blindly_ or says "I don't understand."
- **With Knowledge (`KNOW_GIT_001`):** AXI detects `git.commit` context + confusion.
  - _Reasoning:_ "Knowledge states Commit != Push. User likely missed the Push step."
  - _Response:_ "A commit only saves changes locally. Would you like me to **push** them to GitHub now?"

### Scenario B: Volume Max

- **User:** "Louder! Make it 200%!"
- **Without Knowledge:** Tries to set volume to 200 -> Error or capped silently.
- **With Knowledge (`KNOW_VOL_001`):** AXI detects value > 100.
  - _Reasoning:_ "Hardware constraint: Max is 100. Request is impossible."
  - _Response:_ "I can't go higher than 100%, but I've set it to the maximum for you."

## 3. Knowledge-Intent Links

We link knowledge IDs directly to intents to allow the Decision Engine to "look up" relevant facts before acting.

- `git.commit` -> `KNOW_GIT_001`, `KNOW_GIT_002`
- `system.shutdown` -> `KNOW_SYS_001`
- `system.wifi_on` -> `KNOW_NET_001`

## 4. Risk Assessment & Mitigation

| Risk               | Mitigation                                            |
| :----------------- | :---------------------------------------------------- |
| **Hallucination**  | Knowledge is static JSON, not generated by LLM.       |
| **Action Leakage** | Knowledge layer has **NO** execute permissions.       |
| **Stale Data**     | "Source" and "Confidence" fields mandated.            |
| **Conflict**       | Rules Engine > Knowledge Layer > Generative Response. |

## 5. Knowledge Growth Plan

1.  **Ingest** error logs from `stderr` to create `COMMON_MISTAKE` entries.
2.  **Monitor** user "No, I meant..." corrections to generate `CLARIFICATION` entries.
3.  **Expand** into "Project Specifics" (e.g., specific port numbers for this user's apps).

---

**Status:** Phase 1 Knowledge Layer Deployed (`core_knowledge.json`).
**Action:** Ready for Decision Engine Integration.
